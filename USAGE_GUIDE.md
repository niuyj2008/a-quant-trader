# A股量化交易系统 (AQuantTrader) 使用说明书

本说明书旨在指导用户如何高效使用本量化研究平台，涵盖从基础行情分析到高级 AI 模型驱动的端到端交易流程。

---

## 核心功能模块

### 1. 📊 行情分析 (Market Analysis)
*   **功能**: 查看个股的 K 线走势、成交量及基础技术指标。
*   **操作**:
    1.  在左侧边栏输入 **股票代码**（如 A 股：`000001`，美股：`AAPL`）。
    2.  点击 **🔄 获取数据**。
    3.  系统将展示交互式 K 线图，并自动计算 **MA (均线)**, **RSI**, **动量** 等指标。

### 2. 🔬 因子研究 (Factor Research)
*   **功能**: 组合与验证不同的量化因子。
*   **操作**:
    1.  在“选择因子”多选框中挑选感兴趣的因子（如 `momentum_20`, `volatility_20`）。
    2.  点击 **📊 计算因子**。
    3.  系统将展示因子的时序数值表格及其之间的 **相关性热力图**。
*   **目的**: 识别能有效区分股票未来表现的特征指标。

### 3. 🧠 模型训练 (Model Training)
*   **功能**: 将历史因子数据转化为可预测的 AI 模型。
*   **参数配置**:
    - **模型类型**: 支持 `LSTM` (深研长短期记忆网络)、`Transformer` (注意力机制网络) 及 `RandomForest` / `LightGBM` (机器学习)。
    - **训练特征**: 勾选在“因子研究”中表现优异的指标。
    - **训练轮数 (Epochs)**: 决定模型拟合的深度。
*   **操作**: 点击 **🚀 开始训练**，完成后系统会提示模型保存的路径。

### 4. 🤖 AI 智能选股 (AI Selection)
*   **功能**: 基于训练好的模型进行实战选股打分。
*   **操作**:
    1.  选择 **选股模型**（多因子或机器学习）。
    2.  设定 **选股数量** (Top K)。
    3.  点击 **🤖 开始选股**。
*   **结果**: 系统将针对当前市场列表中的所有股票进行实时画像，并输出一份 **推荐股票排名及综合得分表**。

### 5. 📈 策略回测 (Strategy Backtest)
*   **功能**: 在历史数据上验证选股逻辑的真实收益。
*   **操作**:
    1.  选择 **策略类型**（如均线交叉或动量策略）。
    2.  设定 **初始资金**。
    3.  点击 **🚀 运行回测**。
*   **输出**: 累计收益曲线、最大回撤展示、夏普比率 (Sharpe Ratio) 以及详细的 **交易流水记录**。

---

## 端到端量化交易流程 (Workflow)

为了最大化系统价值，建议遵循以下标准量化研究路径：

1.  **[研究]** 通过 **因子研究** 寻找对股价有显著影响的信号。
2.  **[训练]** 进入 **模型训练**，使用历史数据让 AI 学习这些信号的模式。
3.  **[预测]** 每日开盘前，使用 **AI 选股** 获取今日的 Top 推荐名单。
4.  **[验证]** 将该选股逻辑在 **策略回测** 中跑通至少 1 年的历史数据。
5.  **[执行]** 根据回测结果确认策略稳定性后，作为交易决策参考。

---

## 技术架构简述
- **前端**: Streamlit (Python 原生 Web 框架)
- **后端**: 模块化解耦设计 (`src.data`, `src.factors`, `src.models`, `src.backtest`)
- **数据源**: 集通 AKShare、yfinance 及本地离线存储。

> [!TIP]
> 建议在性能较好的机器上运行模型训练，尤其是使用 LSTM 或 Transformer 模型时。
